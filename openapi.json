{"openapi":"3.1.0","info":{"title":"NL2SQL API Service","description":"Natural Language to SQL conversion with smart visualization and Mongo-backed transcripts","version":"2.0.0"},"paths":{"/livekit/client":{"get":{"tags":["LiveKit"],"summary":"Serve LiveKit browser SDK bundle","operationId":"serve_livekit_client_livekit_client_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/process_query":{"post":{"tags":["Query"],"summary":"Process a natural-language analytics request","description":"Converts a user's prompt into SQL, executes it, persists the transcript, and returns processing metadata.","operationId":"process_query_process_query_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/QueryRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/QueryProcessResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/get_sql/{transcript_id}/{chat_id}":{"get":{"tags":["Query"],"summary":"Fetch generated SQL","description":"Returns the SQL statement produced for a specific assistant response along with safety metadata.","operationId":"get_sql_query_get_sql__transcript_id___chat_id__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"transcript_id","in":"path","required":true,"schema":{"type":"string","title":"Transcript Id"}},{"name":"chat_id","in":"path","required":true,"schema":{"type":"string","title":"Chat Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SQLResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/get_tables/{transcript_id}/{chat_id}":{"get":{"tags":["Query"],"summary":"Retrieve tabular query results","description":"Returns the rows and schema for a processed query result from a specific assistant message.","operationId":"get_tables_get_tables__transcript_id___chat_id__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"transcript_id","in":"path","required":true,"schema":{"type":"string","title":"Transcript Id"}},{"name":"chat_id","in":"path","required":true,"schema":{"type":"string","title":"Chat Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TablesResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/get_description/{transcript_id}/{chat_id}":{"get":{"tags":["Query"],"summary":"Retrieve narrative insight","description":"Returns the narrative description generated by the LLM for an assistant response.","operationId":"get_description_get_description__transcript_id___chat_id__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"transcript_id","in":"path","required":true,"schema":{"type":"string","title":"Transcript Id"}},{"name":"chat_id","in":"path","required":true,"schema":{"type":"string","title":"Chat Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DescriptionResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/get_graph/{transcript_id}/{chat_id}":{"get":{"tags":["Query"],"summary":"Retrieve rendered visualizations","description":"Returns visualization artifacts (inline HTML or file-backed) associated with a processed query.","operationId":"get_graph_html_get_graph__transcript_id___chat_id__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"transcript_id","in":"path","required":true,"schema":{"type":"string","title":"Transcript Id"}},{"name":"chat_id","in":"path","required":true,"schema":{"type":"string","title":"Chat Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GraphsResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/query_results/poll":{"get":{"tags":["Query"],"summary":"Poll for completed assistant query bundles","description":"Dequeues the next available assistant response for the authenticated user and returns the SQL, tables, description, and graphs in a single payload.","operationId":"poll_query_results_query_results_poll_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PendingResultBundle"}}}}},"security":[{"HTTPBearer":[]}]}},"/dashboard/graphs":{"get":{"tags":["Dashboard"],"summary":"List dashboard graphs","description":"Returns registered dashboard graphs for the authenticated user.","operationId":"list_dashboard_graphs_dashboard_graphs_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"active_only","in":"query","required":false,"schema":{"type":"boolean","default":false,"title":"Active Only"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DashboardGraphListResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["Dashboard"],"summary":"Register dashboard graph","description":"Creates or updates metadata for a dashboard graph so it can be queried.","operationId":"register_dashboard_graph_dashboard_graphs_post","security":[{"HTTPBearer":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DashboardGraphRegistrationRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DashboardGraphRegistrationResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/dashboard/graphs/{graph_identifier}":{"delete":{"tags":["Dashboard"],"summary":"Unregister dashboard graph","description":"Removes a graph from the dashboard metadata store.","operationId":"unregister_dashboard_graph_dashboard_graphs__graph_identifier__delete","security":[{"HTTPBearer":[]}],"parameters":[{"name":"graph_identifier","in":"path","required":true,"schema":{"type":"string","title":"Graph Identifier"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/dashboard/graphs/scope":{"post":{"tags":["Dashboard"],"summary":"Update dashboard query scope","description":"Activate, deactivate, or exclusively scope dashboard graphs for querying.","operationId":"update_dashboard_scope_dashboard_graphs_scope_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DashboardScopeUpdateRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DashboardScopeUpdateResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/dashboard/graphs/query":{"post":{"tags":["Dashboard"],"summary":"Query dashboard graphs","description":"Answer natural-language questions against dashboard graph data and metadata.","operationId":"query_dashboard_graphs_dashboard_graphs_query_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DashboardGraphQueryRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DashboardGraphQueryResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/transcripts":{"get":{"tags":["Transcripts"],"summary":"List transcripts","description":"Returns recent transcripts for the authenticated user ordered by last update time.","operationId":"list_transcripts_transcripts_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":50,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["Transcripts"],"summary":"Create a transcript","description":"Creates a new transcript container that chats can later be appended to.","operationId":"create_transcript_transcripts_post","security":[{"HTTPBearer":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Payload"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/transcripts/{transcript_id}":{"get":{"tags":["Transcripts"],"summary":"Get transcript details","description":"Fetches a transcript's metadata for the authenticated user.","operationId":"get_transcript_transcripts__transcript_id__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"transcript_id","in":"path","required":true,"schema":{"type":"string","title":"Transcript Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"patch":{"tags":["Transcripts"],"summary":"Update transcript","description":"Renames an existing transcript owned by the authenticated user.","operationId":"update_transcript_transcripts__transcript_id__patch","security":[{"HTTPBearer":[]}],"parameters":[{"name":"transcript_id","in":"path","required":true,"schema":{"type":"string","title":"Transcript Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TranscriptUpdatePayload"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["Transcripts"],"summary":"Delete transcript","description":"Permanently deletes a transcript and its chats for the authenticated user.","operationId":"delete_transcript_transcripts__transcript_id__delete","security":[{"HTTPBearer":[]}],"parameters":[{"name":"transcript_id","in":"path","required":true,"schema":{"type":"string","title":"Transcript Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/transcripts/{transcript_id}/chats/{chat_id}":{"get":{"tags":["Transcripts"],"summary":"Get chat message","description":"Returns a single chat entry (user or assistant) from a transcript.","operationId":"get_chat_transcripts__transcript_id__chats__chat_id__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"transcript_id","in":"path","required":true,"schema":{"type":"string","title":"Transcript Id"}},{"name":"chat_id","in":"path","required":true,"schema":{"type":"string","title":"Chat Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/":{"get":{"tags":["General"],"summary":"Service overview","description":"Provides high-level API metadata and enumerates available endpoints.","operationId":"root__get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/health":{"get":{"tags":["Health"],"summary":"Health check","description":"Returns a heartbeat payload that can be used for readiness and liveness probes.","operationId":"health_check_health_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/auth/register":{"post":{"tags":["Authentication"],"summary":"Register a new user","description":"Creates a user account with email, password, and profile attributes.","operationId":"register_auth_register_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RegisterBody"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/auth/login":{"post":{"tags":["Authentication"],"summary":"Authenticate a user","description":"Validates credentials and returns a JWT for subsequent requests.","operationId":"login_auth_login_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AuthBody"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/auth/me":{"get":{"tags":["Authentication"],"summary":"Current user profile","description":"Returns profile details and dashboard configuration for the authenticated user.","operationId":"auth_me_auth_me_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"security":[{"HTTPBearer":[]}]}},"/dashboard":{"get":{"tags":["Dashboard"],"summary":"Get dashboard graphs","description":"Returns the stored dashboard visualization entries for the authenticated user.","operationId":"get_dashboard_dashboard_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"security":[{"HTTPBearer":[]}]},"put":{"tags":["Dashboard"],"summary":"Replace dashboard layout","description":"Overwrites the dashboard visualization list with the provided configuration.","operationId":"update_dashboard_dashboard_put","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DashboardGraphsPayload"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/livekit/session":{"post":{"tags":["LiveKit"],"summary":"Start LiveKit voice session","operationId":"create_livekit_session_livekit_session_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LiveKitSessionCreateRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/LiveKitSessionStartResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/livekit/session/{session_id}":{"delete":{"tags":["LiveKit"],"summary":"End LiveKit voice session","operationId":"end_livekit_session_livekit_session__session_id__delete","security":[{"HTTPBearer":[]}],"parameters":[{"name":"session_id","in":"path","required":true,"schema":{"type":"string","title":"Session Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/livekit/session/{session_id}/token":{"post":{"tags":["LiveKit"],"summary":"Issue LiveKit viewer token","operationId":"issue_livekit_token_livekit_session__session_id__token_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"session_id","in":"path","required":true,"schema":{"type":"string","title":"Session Id"}}],"requestBody":{"content":{"application/json":{"schema":{"anyOf":[{"$ref":"#/components/schemas/LiveKitTokenRequest"},{"type":"null"}],"title":"Payload"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/LiveKitTokenResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/livekit/session/{session_id}/metadata":{"get":{"tags":["LiveKit"],"summary":"Retrieve LiveKit session metadata for agent","operationId":"get_livekit_session_metadata_livekit_session__session_id__metadata_get","parameters":[{"name":"session_id","in":"path","required":true,"schema":{"type":"string","title":"Session Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/LiveKitSessionMetadataResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/livekit/session/{session_id}/transcripts":{"post":{"tags":["LiveKit"],"summary":"Ingest transcript message from LiveKit agent","operationId":"ingest_livekit_transcript_livekit_session__session_id__transcripts_post","parameters":[{"name":"session_id","in":"path","required":true,"schema":{"type":"string","title":"Session Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LiveKitTranscriptIngest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/livekit/session/{session_id}/query":{"post":{"tags":["LiveKit"],"summary":"Execute database query for LiveKit agent","operationId":"livekit_query_livekit_session__session_id__query_post","parameters":[{"name":"session_id","in":"path","required":true,"schema":{"type":"string","title":"Session Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LiveKitQueryRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}}},"components":{"schemas":{"AuthBody":{"properties":{"email":{"type":"string","title":"Email"},"password":{"type":"string","title":"Password"}},"type":"object","required":["email","password"],"title":"AuthBody"},"DashboardGraphListResponse":{"properties":{"graphs":{"items":{"$ref":"#/components/schemas/DashboardGraphMetadataModel"},"type":"array","title":"Graphs"}},"type":"object","required":["graphs"],"title":"DashboardGraphListResponse"},"DashboardGraphMetadataModel":{"properties":{"graph_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Graph Id"},"title":{"type":"string","title":"Title"},"graph_type":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Graph Type"},"data_source":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Data Source"},"data":{"anyOf":[{"items":{"additionalProperties":true,"type":"object"},"type":"array"},{"type":"null"}],"title":"Data"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"metadata":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Metadata"},"active":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Active","default":true},"row_count":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Row Count"},"fields":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Fields"},"last_synced_at":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Last Synced At"},"figure":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Figure"},"config":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Config"},"summary":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Summary"},"html_content":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Html Content"}},"type":"object","required":["title"],"title":"DashboardGraphMetadataModel"},"DashboardGraphQueryRequest":{"properties":{"question":{"type":"string","title":"Question"}},"type":"object","required":["question"],"title":"DashboardGraphQueryRequest"},"DashboardGraphQueryResponse":{"properties":{"type":{"type":"string","title":"Type"},"message":{"type":"string","title":"Message"},"graphs_used":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Graphs Used"},"analyses":{"anyOf":[{"items":{"additionalProperties":true,"type":"object"},"type":"array"},{"type":"null"}],"title":"Analyses"},"updated":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Updated"},"scope":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Scope"}},"type":"object","required":["type","message"],"title":"DashboardGraphQueryResponse"},"DashboardGraphRegistrationRequest":{"properties":{"graph_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Graph Id"},"title":{"type":"string","title":"Title"},"graph_type":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Graph Type"},"data_source":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Data Source"},"data":{"anyOf":[{"items":{"additionalProperties":true,"type":"object"},"type":"array"},{"type":"null"}],"title":"Data"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"metadata":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Metadata"},"active":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Active","default":true},"row_count":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Row Count"},"fields":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Fields"},"last_synced_at":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Last Synced At"},"figure":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Figure"},"config":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Config"},"summary":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Summary"},"html_content":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Html Content"}},"type":"object","required":["title"],"title":"DashboardGraphRegistrationRequest"},"DashboardGraphRegistrationResponse":{"properties":{"graph":{"$ref":"#/components/schemas/DashboardGraphMetadataModel"}},"type":"object","required":["graph"],"title":"DashboardGraphRegistrationResponse"},"DashboardGraphsPayload":{"properties":{"graphs":{"items":{"additionalProperties":true,"type":"object"},"type":"array","title":"Graphs"}},"type":"object","required":["graphs"],"title":"DashboardGraphsPayload"},"DashboardScopeUpdateRequest":{"properties":{"action":{"type":"string","title":"Action"},"graphs":{"items":{"type":"string"},"type":"array","title":"Graphs"}},"type":"object","required":["action","graphs"],"title":"DashboardScopeUpdateRequest"},"DashboardScopeUpdateResponse":{"properties":{"action":{"type":"string","title":"Action"},"updated":{"type":"integer","title":"Updated"},"message":{"type":"string","title":"Message"},"graphs":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Graphs"}},"type":"object","required":["action","updated","message"],"title":"DashboardScopeUpdateResponse"},"DescriptionResponse":{"properties":{"transcript_id":{"type":"string","title":"Transcript Id"},"chat_id":{"type":"string","title":"Chat Id"},"description":{"type":"string","title":"Description"},"query_executed_successfully":{"type":"boolean","title":"Query Executed Successfully"}},"type":"object","required":["transcript_id","chat_id","description","query_executed_successfully"],"title":"DescriptionResponse"},"GraphItem":{"properties":{"type":{"type":"string","title":"Type"},"graph_type":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Graph Type"},"title":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Title"},"figure":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Figure"},"config":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Config"},"summary":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Summary"},"query":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Query"},"insight":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Insight"},"sub_query_index":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Sub Query Index"},"html":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Html"}},"type":"object","required":["type"],"title":"GraphItem"},"GraphsResponse":{"properties":{"transcript_id":{"type":"string","title":"Transcript Id"},"chat_id":{"type":"string","title":"Chat Id"},"graphs":{"items":{"$ref":"#/components/schemas/GraphItem"},"type":"array","title":"Graphs"}},"type":"object","required":["transcript_id","chat_id","graphs"],"title":"GraphsResponse"},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"LiveKitQueryRequest":{"properties":{"question":{"type":"string","title":"Question"},"context":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Context"}},"type":"object","required":["question"],"title":"LiveKitQueryRequest"},"LiveKitSessionCreateRequest":{"properties":{"display_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Display Name"},"transcript_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Transcript Id"}},"type":"object","title":"LiveKitSessionCreateRequest"},"LiveKitSessionMetadataResponse":{"properties":{"session_id":{"type":"string","title":"Session Id"},"user_id":{"type":"string","title":"User Id"},"metadata":{"additionalProperties":true,"type":"object","title":"Metadata"},"transcript_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Transcript Id"}},"type":"object","required":["session_id","user_id","metadata"],"title":"LiveKitSessionMetadataResponse"},"LiveKitSessionStartResponse":{"properties":{"session_id":{"type":"string","title":"Session Id"},"room_name":{"type":"string","title":"Room Name"},"participant_identity":{"type":"string","title":"Participant Identity"},"token":{"type":"string","title":"Token"},"url":{"type":"string","title":"Url"},"display_name":{"type":"string","title":"Display Name"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"expires_at":{"type":"string","format":"date-time","title":"Expires At"},"transcripts":{"items":{"additionalProperties":true,"type":"object"},"type":"array","title":"Transcripts"},"metadata":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Metadata"}},"type":"object","required":["session_id","room_name","participant_identity","token","url","display_name","created_at","expires_at","transcripts"],"title":"LiveKitSessionStartResponse"},"LiveKitTokenRequest":{"properties":{"display_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Display Name"}},"type":"object","title":"LiveKitTokenRequest"},"LiveKitTokenResponse":{"properties":{"session_id":{"type":"string","title":"Session Id"},"room_name":{"type":"string","title":"Room Name"},"participant_identity":{"type":"string","title":"Participant Identity"},"token":{"type":"string","title":"Token"},"url":{"type":"string","title":"Url"},"expires_at":{"type":"string","format":"date-time","title":"Expires At"}},"type":"object","required":["session_id","room_name","participant_identity","token","url","expires_at"],"title":"LiveKitTokenResponse"},"LiveKitTranscriptIngest":{"properties":{"role":{"type":"string","enum":["user","assistant","system"],"title":"Role"},"text":{"type":"string","title":"Text"},"timestamp":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Timestamp"},"metadata":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Metadata"}},"type":"object","required":["role","text"],"title":"LiveKitTranscriptIngest"},"PendingResultBundle":{"properties":{"status":{"type":"string","enum":["pending","ready"],"title":"Status"},"role":{"anyOf":[{"type":"string","enum":["user","assistant"]},{"type":"null"}],"title":"Role"},"transcript_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Transcript Id"},"chat_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Chat Id"},"chat_id_user":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Chat Id User"},"sql":{"anyOf":[{"$ref":"#/components/schemas/SQLResponse"},{"type":"null"}]},"tables":{"anyOf":[{"$ref":"#/components/schemas/TablesResponse"},{"type":"null"}]},"description":{"anyOf":[{"$ref":"#/components/schemas/DescriptionResponse"},{"type":"null"}]},"graphs":{"anyOf":[{"$ref":"#/components/schemas/GraphsResponse"},{"type":"null"}]},"user_message":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"User Message"},"description_summary":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description Summary"},"enqueued_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Enqueued At"}},"type":"object","required":["status"],"title":"PendingResultBundle"},"QueryProcessResponse":{"properties":{"transcript_id":{"type":"string","title":"Transcript Id"},"chat_id_user":{"type":"string","title":"Chat Id User"},"chat_id_assistant":{"type":"string","title":"Chat Id Assistant"},"status":{"type":"string","title":"Status"},"message":{"type":"string","title":"Message"},"processing_time_seconds":{"type":"number","title":"Processing Time Seconds"},"is_relevant":{"type":"boolean","title":"Is Relevant"},"error":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Error"}},"type":"object","required":["transcript_id","chat_id_user","chat_id_assistant","status","message","processing_time_seconds","is_relevant"],"title":"QueryProcessResponse"},"QueryRequest":{"properties":{"natural_language_query":{"type":"string","title":"Natural Language Query"},"transcript_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Transcript Id"},"title":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Title"},"metadata":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Metadata"},"conversation_context":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Conversation Context"}},"type":"object","required":["natural_language_query"],"title":"QueryRequest"},"RegisterBody":{"properties":{"email":{"type":"string","title":"Email"},"password":{"type":"string","title":"Password"},"name":{"type":"string","title":"Name"},"mobile":{"type":"string","title":"Mobile"}},"type":"object","required":["email","password","name","mobile"],"title":"RegisterBody"},"SQLResponse":{"properties":{"transcript_id":{"type":"string","title":"Transcript Id"},"chat_id":{"type":"string","title":"Chat Id"},"sql_query":{"type":"string","title":"Sql Query"},"is_safe":{"type":"boolean","title":"Is Safe"},"retry_attempts":{"type":"integer","title":"Retry Attempts"}},"type":"object","required":["transcript_id","chat_id","sql_query","is_safe","retry_attempts"],"title":"SQLResponse"},"TablesResponse":{"properties":{"transcript_id":{"type":"string","title":"Transcript Id"},"chat_id":{"type":"string","title":"Chat Id"},"tables":{"items":{"additionalProperties":true,"type":"object"},"type":"array","title":"Tables"},"record_count":{"type":"integer","title":"Record Count"}},"type":"object","required":["transcript_id","chat_id","tables","record_count"],"title":"TablesResponse"},"TranscriptUpdatePayload":{"properties":{"title":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Title"}},"type":"object","title":"TranscriptUpdatePayload"},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"}},"securitySchemes":{"HTTPBearer":{"type":"http","scheme":"bearer"}}},"tags":[{"name":"General","description":"Utility and informational endpoints for service discovery."},{"name":"Health","description":"Operational health and readiness checks."},{"name":"Authentication","description":"User registration, login, and identity introspection."},{"name":"Query","description":"Natural-language query processing and related data retrieval APIs."},{"name":"Transcripts","description":"Transcript lifecycle management and chat retrieval."},{"name":"Dashboard","description":"User dashboard graph management APIs."},{"name":"LiveKit","description":"Realtime voice agent session management APIs."}]}